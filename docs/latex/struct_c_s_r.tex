\hypertarget{struct_c_s_r}{}\doxysection{C\+SR Struct Reference}
\label{struct_c_s_r}\index{CSR@{CSR}}


Compressed Sparse Row matrix.  




{\ttfamily \#include $<$csr\+\_\+matrix.\+hpp$>$}

\doxysubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{struct_c_s_r_a033f4157750bcd58c74187e1c4c3079a}\label{struct_c_s_r_a033f4157750bcd58c74187e1c4c3079a}} 
using {\bfseries vec\+\_\+f} = std\+::vector$<$ float $>$
\item 
\mbox{\Hypertarget{struct_c_s_r_a433acfad2b386472ed73ed8a3a5df480}\label{struct_c_s_r_a433acfad2b386472ed73ed8a3a5df480}} 
using {\bfseries vec\+\_\+u} = std\+::vector$<$ std\+::uint32\+\_\+t $>$
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{struct_c_s_r_a31e31d344d54bf45eaac91a4246b3cff}\label{struct_c_s_r_a31e31d344d54bf45eaac91a4246b3cff}} 
{\bfseries C\+SR} (vec\+\_\+f \&\&data, vec\+\_\+u \&\&indices, vec\+\_\+u \&\&indptr, size\+\_\+t nrows, size\+\_\+t ncols)
\item 
void \mbox{\hyperlink{struct_c_s_r_a3fc79432e775448fdfd28cd45161c473}{save}} (const std\+::string \&fname)
\begin{DoxyCompactList}\small\item\em Saves matrix in a native endian (little endian mostly) binary format. \end{DoxyCompactList}\item 
auto \mbox{\hyperlink{struct_c_s_r_a251d5dabc81bdd1093171bf76839bc41}{slice}} (const int $\ast$ixs, size\+\_\+t size) -\/$>$ float $\ast$
\begin{DoxyCompactList}\small\item\em Performs parallel slicing on indexes. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{struct_c_s_r_ab7667ca6ebf12ae9146150905482e48d}\label{struct_c_s_r_ab7667ca6ebf12ae9146150905482e48d}} 
auto {\bfseries operator==} (const \mbox{\hyperlink{struct_c_s_r}{C\+SR}} \&o) const -\/$>$ bool
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{struct_c_s_r_aa4d8e49f25105dc4a5ace398f5e95c98}\label{struct_c_s_r_aa4d8e49f25105dc4a5ace398f5e95c98}} 
{\footnotesize template$<$class T $>$ }\\static auto \mbox{\hyperlink{struct_c_s_r_aa4d8e49f25105dc4a5ace398f5e95c98}{\+\_\+read\+\_\+vector}} (std\+::istream \&is) -\/$>$ std\+::vector$<$ T $>$
\begin{DoxyCompactList}\small\item\em first read vector size and then vector data \end{DoxyCompactList}\item 
\mbox{\Hypertarget{struct_c_s_r_aee41bae1dbdd901990fbc432ef4caf9c}\label{struct_c_s_r_aee41bae1dbdd901990fbc432ef4caf9c}} 
{\footnotesize template$<$class T $>$ }\\static void \mbox{\hyperlink{struct_c_s_r_aee41bae1dbdd901990fbc432ef4caf9c}{\+\_\+write\+\_\+vector}} (std\+::ostream \&os, const std\+::vector$<$ T $>$ \&v)
\begin{DoxyCompactList}\small\item\em first forward write vector size and then vector data \end{DoxyCompactList}\item 
static auto \mbox{\hyperlink{struct_c_s_r_af6cba77fc889ed607fcf207f9439a2dc}{load}} (const std\+::string \&fname) -\/$>$ \mbox{\hyperlink{struct_c_s_r}{C\+SR}} $\ast$
\begin{DoxyCompactList}\small\item\em Load matrix from a binary format. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{struct_c_s_r_a72eba52f8004ecf5927bf3d14f9d9600}\label{struct_c_s_r_a72eba52f8004ecf5927bf3d14f9d9600}} 
static auto \mbox{\hyperlink{struct_c_s_r_a72eba52f8004ecf5927bf3d14f9d9600}{random}} (size\+\_\+t nrows, size\+\_\+t ncols, float prob) -\/$>$ \mbox{\hyperlink{struct_c_s_r}{C\+SR}}
\begin{DoxyCompactList}\small\item\em Generate random csr matrix with probability of element being zero equal to {\ttfamily prob} \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{struct_c_s_r_a01e2c018e980f1420d8b7d477e079099}\label{struct_c_s_r_a01e2c018e980f1420d8b7d477e079099}} 
vec\+\_\+f {\bfseries \+\_\+data}
\item 
\mbox{\Hypertarget{struct_c_s_r_a7a763ffa7d8f82d7fa29ae3d4ef17953}\label{struct_c_s_r_a7a763ffa7d8f82d7fa29ae3d4ef17953}} 
vec\+\_\+u {\bfseries \+\_\+indices}
\item 
\mbox{\Hypertarget{struct_c_s_r_a1098d6674ef18a6e3ac85f21bd25014c}\label{struct_c_s_r_a1098d6674ef18a6e3ac85f21bd25014c}} 
vec\+\_\+u {\bfseries \+\_\+indptr}
\item 
\mbox{\Hypertarget{struct_c_s_r_a25fc166c4cbe2af98cbddd6bb1dc544a}\label{struct_c_s_r_a25fc166c4cbe2af98cbddd6bb1dc544a}} 
size\+\_\+t {\bfseries \+\_\+nrows}
\item 
\mbox{\Hypertarget{struct_c_s_r_a40b44da5cbc1166ff271d6039805100d}\label{struct_c_s_r_a40b44da5cbc1166ff271d6039805100d}} 
size\+\_\+t {\bfseries \+\_\+ncols}
\item 
\mbox{\Hypertarget{struct_c_s_r_a9286c0c56ff9d897fef3732ff75caf8e}\label{struct_c_s_r_a9286c0c56ff9d897fef3732ff75caf8e}} 
vec\+\_\+f {\bfseries slice\+\_\+data}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Compressed Sparse Row matrix. 

Data format same as of scipy.\+sparse.\+csr\+\_\+matrix. Is the standard \mbox{\hyperlink{struct_c_s_r}{C\+SR}} representation where the column indices for row {\ttfamily i} are stored in {\ttfamily indices\mbox{[}indptr\mbox{[}i\mbox{]}\+:indptr\mbox{[}i+1\mbox{]}\mbox{]}} and their corresponding values are stored in {\ttfamily data\mbox{[}indptr\mbox{[}i\mbox{]}\+:indptr\mbox{[}i+1\mbox{]}\mbox{]}}. 

Definition at line 22 of file csr\+\_\+matrix.\+hpp.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{struct_c_s_r_af6cba77fc889ed607fcf207f9439a2dc}\label{struct_c_s_r_af6cba77fc889ed607fcf207f9439a2dc}} 
\index{CSR@{CSR}!load@{load}}
\index{load@{load}!CSR@{CSR}}
\doxysubsubsection{\texorpdfstring{load()}{load()}}
{\footnotesize\ttfamily auto C\+S\+R\+::load (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{fname }\end{DoxyParamCaption}) -\/$>$ \mbox{\hyperlink{struct_c_s_r}{C\+SR}} $\ast$\hspace{0.3cm}{\ttfamily [static]}}



Load matrix from a binary format. 

First read matrix shape and then each vector with it\textquotesingle{}s forward size. 

Definition at line 82 of file csr\+\_\+matrix.\+cpp.

\mbox{\Hypertarget{struct_c_s_r_a3fc79432e775448fdfd28cd45161c473}\label{struct_c_s_r_a3fc79432e775448fdfd28cd45161c473}} 
\index{CSR@{CSR}!save@{save}}
\index{save@{save}!CSR@{CSR}}
\doxysubsubsection{\texorpdfstring{save()}{save()}}
{\footnotesize\ttfamily void C\+S\+R\+::save (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{fname }\end{DoxyParamCaption})}



Saves matrix in a native endian (little endian mostly) binary format. 

First forward write matrix shape and then each vector with it\textquotesingle{}s forward size. 

Definition at line 103 of file csr\+\_\+matrix.\+cpp.

\mbox{\Hypertarget{struct_c_s_r_a251d5dabc81bdd1093171bf76839bc41}\label{struct_c_s_r_a251d5dabc81bdd1093171bf76839bc41}} 
\index{CSR@{CSR}!slice@{slice}}
\index{slice@{slice}!CSR@{CSR}}
\doxysubsubsection{\texorpdfstring{slice()}{slice()}}
{\footnotesize\ttfamily auto C\+S\+R\+::slice (\begin{DoxyParamCaption}\item[{const int $\ast$}]{ixs,  }\item[{size\+\_\+t}]{size }\end{DoxyParamCaption}) -\/$>$ float $\ast$}



Performs parallel slicing on indexes. 

It splits {\ttfamily ixs} on chunks and each chunk is fed to a separate thread 
\begin{DoxyParams}{Parameters}
{\em ixs} & List of ixs to slice on, must not be out of range \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
pointer to a sliced Dense matrix contiguous array 
\end{DoxyReturn}


Definition at line 145 of file csr\+\_\+matrix.\+cpp.



The documentation for this struct was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
include/\mbox{\hyperlink{csr__matrix_8hpp}{csr\+\_\+matrix.\+hpp}}\item 
src/csr\+\_\+matrix.\+cpp\end{DoxyCompactItemize}
